name: Security Scan

on:
  schedule:
    - cron: '0 12 * * 2' # 12pm UTC every Tuesday
  workflow_dispatch:

jobs:
  code_scan:
    name: SAST scan
    uses: Basis-Theory/security-workflows/.github/workflows/code-scan.yml@master
    secrets: inherit
    with:
      scan-directory: $GITHUB_WORKSPACE
      app-name: swift

  dependency_scan:
    name: SCA scan
    uses: Basis-Theory/security-workflows/.github/workflows/dependency-scan.yml@master
    secrets: inherit
    with:
      scan-directory: $GITHUB_WORKSPACE
      app-name: swift